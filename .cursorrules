# Unterm Schloss - Cursor AI Instructions

> Premium Vacation Rental Website | Astro 5 + React | Rams × Jobs Design Philosophy

## 🎯 Project Overview

**Stack:**
- Astro 5.15.1 (Static Site Generator)
- React 19.2.0 (Islands Architecture)
- Tailwind CSS 4.1.16 (Utility-First)
- TypeScript (Type Safety)

**Design Philosophy:**
- **Dieter Rams**: Less, but better. Minimal, functional, precise.
- **Steve Jobs**: Obsessive attention to detail. Max 20px animations. Perfect typography.
- **8px Grid System**: ALL spacing must be divisible by 8px (1rem = 16px = 2 × 8px)

---

## 🎨 Design System

### Color Palette

```css
/* Primary Colors */
--color-primary-dark: #3d2817;      /* Warmes dunkles Braun */
--color-primary-light: #fafaf9;     /* Warmes helles Beige */
--color-accent: #8b7355;            /* Akzent Braun */
--color-accent-hover: #7a6548;      /* Dunklerer Hover */

/* Dark Mode / Sections */
--color-dark-bg: #1c120b;           /* Warmes Dunkel (keine harte Schwarz/Weiß-Optik) */
--color-light-bg: #fafaf9;          /* Warmes Hell */

/* Functional Colors */
--color-success: #10b981;           /* Grüne Badges */
--color-rating: #fbbf24;            /* Sterne Gold */
--color-text-gray: #374151;         /* High contrast gray für Body Text */
```

### Typography

**Font Stack:**
```css
/* Headlines */
font-family: 'Playfair Display', serif;
font-weight: 400; /* Regular only - no bold 700 */

/* Body Text */
font-family: 'DM Sans', sans-serif;
font-weight: 300 | 400 | 500 | 600; /* No 700 */
```

**Hierarchy (Jobs Standard):**
```css
/* H1 - Hero Headlines */
font-size: clamp(2.5rem, 5vw, 4rem); /* 40px → 64px responsive */
line-height: 1.1;
letter-spacing: -0.03em;

/* H2 - Section Headlines */
font-size: clamp(2rem, 4vw, 3.5rem); /* 32px → 56px */
line-height: 1.1;
letter-spacing: -0.02em;

/* H3 - Card Titles */
font-size: 1.25rem; /* 20px */
line-height: 1.4;

/* Body Text */
font-size: 1rem; /* 16px mobile, 18px desktop */
line-height: 1.7; /* 170% for readability */
max-width: 65ch; /* Optimal line length */
```

### Spacing (8px Grid System)

**CRITICAL RULE:** ALL spacing MUST be divisible by 8px.

```css
/* Valid Spacing */
margin: 0.5rem;   /* 8px - 1 × 8px ✓ */
margin: 1rem;     /* 16px - 2 × 8px ✓ */
margin: 1.5rem;   /* 24px - 3 × 8px ✓ */
margin: 2rem;     /* 32px - 4 × 8px ✓ */
margin: 2.5rem;   /* 40px - 5 × 8px ✓ */
margin: 3rem;     /* 48px - 6 × 8px ✓ */
margin: 4rem;     /* 64px - 8 × 8px ✓ */
margin: 5rem;     /* 80px - 10 × 8px ✓ */

/* Invalid Spacing */
margin: 0.75rem;  /* 12px - NOT divisible by 8px ✗ */
margin: 1.25rem;  /* 20px - NOT divisible by 8px ✗ */
margin: 1.75rem;  /* 28px - NOT divisible by 8px ✗ */
```

**Section Spacing:**
```css
/* Desktop Sections */
padding: 5rem 0; /* Minimum 80px vertical */

/* Mobile Sections */
padding: 3rem 0; /* Minimum 48px vertical */
```

### Border Radius

```css
/* Standard */
border-radius: 0.5rem;  /* 8px - 1 × 8px */
border-radius: 0.75rem; /* 12px - Cards, Badges */
border-radius: 1rem;    /* 16px - Larger cards */
border-radius: 1.5rem;  /* 24px - Pills/Chips */

/* Special */
border-radius: 50%;     /* Circles only */
```

---

## 🏗️ Component Architecture

### File Structure

```
src/
├── components/
│   ├── HeroSection.astro       # Hero with Ken Burns
│   ├── StorySection.astro      # About section with parallax
│   ├── Navigation.astro        # Fixed nav with hide-on-scroll
│   └── ...
├── layouts/
│   └── Layout.astro            # Master layout
├── pages/
│   ├── index.astro             # Homepage
│   └── ...
└── styles/
    └── global.css              # Global styles
```

### Component Props Pattern

```typescript
// Always use TypeScript interfaces for props
export interface Props {
  heading: string;
  subheading?: string;
  content: string;
  backgroundImage?: string;
}

const { heading, subheading, content, backgroundImage } = Astro.props;
```

### Astro Component Template

```astro
---
// TypeScript Props
export interface Props {
  title: string;
  description: string;
}

const { title, description } = Astro.props;
---

<section class="section-name section--light">
  <div class="container">
    <h2 class="heading">{title}</h2>
    <p class="description">{description}</p>
  </div>
</section>

<style>
  /* Component-scoped styles */
  .section-name {
    padding: 5rem 0; /* 80px - 10 × 8px */
    background: var(--color-primary-light);
  }

  .heading {
    font-family: 'Playfair Display', serif;
    font-size: clamp(2rem, 4vw, 3.5rem);
    margin-bottom: 1.5rem; /* 24px - 3 × 8px */
  }

  @media (min-width: 768px) {
    .section-name {
      padding: 8rem 0; /* 128px */
    }
  }
</style>
```

---

## ⚡ Performance Guidelines

### Image Optimization

```astro
<!-- Hero Images - Eager Loading -->
<img
  src="/images/hero.jpg"
  alt="Descriptive alt text"
  loading="eager"
  fetchpriority="high"
  width="1920"
  height="1280"
/>

<!-- Below Fold - Lazy Loading -->
<img
  src="/images/feature.jpg"
  alt="Descriptive alt text"
  loading="lazy"
  width="800"
  height="600"
/>
```

### Animation Performance

```css
/* GPU-Accelerated Properties ONLY */
transform: translateY(10px); /* ✓ */
opacity: 0.5;                /* ✓ */

/* Avoid Layout Thrashing */
top: 10px;                   /* ✗ Causes reflow */
margin-top: 10px;            /* ✗ Causes reflow */
```

### Scroll Performance

```javascript
// Always use passive listeners
window.addEventListener('scroll', handleScroll, { passive: true });

// Throttle with requestAnimationFrame
let ticking = false;
function onScroll() {
  if (!ticking) {
    requestAnimationFrame(handleScroll);
    ticking = true;
  }
}
```

---

## 🎭 Animation Principles

### Jobs Animation Standard

**CRITICAL:** Max 20px translateY movement. Subtle, elegant, never flashy.

```css
/* CORRECT - Subtle fadeInUp */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px); /* Max 20px ✓ */
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* WRONG - Too aggressive */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(60px); /* Too much ✗ */
  }
}
```

### Animation Durations

```css
/* Micro-interactions */
transition: all 0.2s ease;

/* Standard Transitions */
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

/* Animations */
animation: fadeIn 0.6s ease-out;
animation: fadeInUp 0.8s cubic-bezier(0.16, 1, 0.3, 1);
```

### Stagger Delays

```astro
{items.map((item, index) => (
  <div
    class="item"
    style={`animation-delay: ${0.1 + (index * 0.1)}s`}
  >
    {item}
  </div>
))}
```

---

## ♿ Accessibility

### Semantic HTML

```html
<!-- CORRECT -->
<section aria-label="Features">
  <h2>Our Features</h2>
  <ul>
    <li>Feature 1</li>
  </ul>
</section>

<!-- WRONG -->
<div class="section">
  <div class="title">Our Features</div>
</div>
```

### ARIA Labels

```astro
<a
  href="/booking"
  class="cta-button"
  aria-label="Check availability - Opens booking form"
>
  Book Now
</a>
```

### Reduced Motion

```css
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation: none !important;
    transition: none !important;
  }
}
```

### High Contrast

```css
@media (prefers-contrast: high) {
  .heading {
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.9);
  }

  .button {
    border: 2px solid white;
  }
}
```

---

## 📱 Responsive Design

### Breakpoints

```css
/* Mobile First */
/* Default: 320px - 767px */

@media (min-width: 640px) {
  /* Small tablets */
}

@media (min-width: 768px) {
  /* Tablets */
}

@media (min-width: 1024px) {
  /* Desktop */
}

@media (min-width: 1280px) {
  /* Large desktop */
}
```

### Container Pattern

```css
.container {
  max-width: 1280px; /* 8px Grid: 160 × 8px */
  margin: 0 auto;
  padding: 0 1rem; /* 16px mobile */
}

@media (min-width: 640px) {
  .container {
    padding: 0 1.5rem; /* 24px */
  }
}

@media (min-width: 1024px) {
  .container {
    padding: 0 2rem; /* 32px */
  }
}
```

---

## 🎯 Conversion Optimization

### CTA Button Standards

```astro
<!-- Primary CTA -->
<a href="/booking" class="btn-primary">
  <span class="cta-icon">📅</span>
  <span class="cta-content">
    <span class="cta-text">Verfügbarkeit prüfen</span>
    <span class="cta-subtext">Antwort in 24h</span>
  </span>
</a>

<style>
  .btn-primary {
    background: #8b7355;
    color: white;
    padding: 1rem 1.5rem; /* 16px 24px */
    border-radius: 0.75rem; /* 12px */
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    min-height: 48px; /* Touch target */
  }

  .btn-primary:hover {
    background: #7a6548;
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(139, 115, 85, 0.3);
  }
</style>
```

### Trust Signals

```astro
<div class="trust-signals">
  <div class="trust-item">
    <div class="trust-stars">★★★★★</div>
    <div class="trust-rating">4.9/5</div>
    <div class="trust-count">47 Bewertungen</div>
  </div>
  <div class="trust-divider"></div>
  <div class="trust-item">
    <div class="trust-icon">✓</div>
    <div class="trust-text">Sofortige Bestätigung</div>
  </div>
</div>
```

### Scannability Rules

1. **Headlines:** Max 5 words, clear value proposition
2. **Subheadlines:** Max 10 words, add context
3. **Body Text:** Use bold for key phrases, bullets for lists
4. **Whitespace:** Minimum 2rem (32px) between sections
5. **Max Line Length:** 65 characters (65ch)

---

## 🔧 Code Quality

### ESLint Rules

- No `any` types
- Prefer `const` over `let`
- No unused variables
- Max line length: 100 characters

### Naming Conventions

```typescript
// Components: PascalCase
HeroSection.astro
StorySection.astro

// CSS Classes: kebab-case
.hero-section
.story-heading

// Variables: camelCase
const heroTitle = "Welcome";
const isVisible = true;

// Constants: SCREAMING_SNAKE_CASE
const MAX_ITEMS = 10;
const API_URL = "https://api.example.com";
```

### Comment Standards

```astro
---
// 🎨 COMPONENT NAME - Short Description
// Key Features:
// - Feature 1
// - Feature 2
---

<section class="section-name">
  <!-- 🎬 BACKGROUND LAYER -->
  <div class="background"></div>

  <!-- 📝 CONTENT LAYER -->
  <div class="content">
    <!-- ✨ HEADLINE -->
    <h2>{heading}</h2>

    <!-- 🎯 CTA -->
    <a href={ctaHref}>{ctaText}</a>
  </div>
</section>

<style>
  /* RAMS LAYOUT - 8px Grid */
  .section-name {
    padding: 5rem 0; /* 80px - 10 × 8px */
  }

  /* JOBS TYPOGRAPHY - Premium Scale */
  .heading {
    font-size: clamp(2rem, 4vw, 3.5rem);
  }
</style>
```

---

## 🚀 Deployment

### Build Command

```bash
npm run build
```

### Environment Variables

```env
# Production
PUBLIC_SITE_URL=https://unterm-schloss.de
```

### Vercel Configuration

```json
{
  "buildCommand": "npm run build",
  "outputDirectory": "dist",
  "framework": "astro"
}
```

---

## 📋 Checklist for New Components

- [ ] TypeScript interfaces for all props
- [ ] 8px Grid System for all spacing
- [ ] Semantic HTML structure
- [ ] ARIA labels where needed
- [ ] Reduced motion support
- [ ] High contrast support
- [ ] Mobile-first responsive design
- [ ] GPU-accelerated animations only
- [ ] Max 20px translateY animations
- [ ] Passive scroll listeners
- [ ] Touch targets min 48px
- [ ] Alt text on all images
- [ ] Loading strategy (eager/lazy)
- [ ] Comments for complex logic

---

## 🎨 Section Pattern Template

```astro
---
export interface Props {
  heading: string;
  content: string;
}

const { heading, content } = Astro.props;
---

<section class="section-name section--light" aria-label="Section Name">
  <div class="container">
    <!-- Heading -->
    <h2 class="heading">{heading}</h2>

    <!-- Content -->
    <div class="content">
      <p>{content}</p>
    </div>

    <!-- CTA -->
    <div class="cta-wrapper">
      <a href="/booking" class="btn-primary">Book Now</a>
    </div>
  </div>
</section>

<style>
  /* SECTION LAYOUT - 8px Grid */
  .section-name {
    padding: 5rem 0; /* 80px - 10 × 8px */
    background: var(--color-primary-light);
  }

  @media (min-width: 768px) {
    .section-name {
      padding: 8rem 0; /* 128px - 16 × 8px */
    }
  }

  /* CONTAINER */
  .container {
    max-width: 1280px;
    margin: 0 auto;
    padding: 0 1rem; /* 16px - 2 × 8px */
  }

  /* TYPOGRAPHY */
  .heading {
    font-family: 'Playfair Display', serif;
    font-size: clamp(2rem, 4vw, 3.5rem);
    font-weight: 400;
    line-height: 1.1;
    letter-spacing: -0.02em;
    color: var(--color-primary-dark);
    margin-bottom: 2rem; /* 32px - 4 × 8px */
  }

  .content {
    font-family: 'DM Sans', sans-serif;
    font-size: 1rem;
    line-height: 1.7;
    color: var(--color-text-gray);
    max-width: 65ch;
    margin: 0 auto 3rem; /* 48px bottom */
  }

  /* CTA */
  .cta-wrapper {
    display: flex;
    justify-content: center;
    gap: 1rem; /* 16px - 2 × 8px */
  }

  /* ACCESSIBILITY */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation: none !important;
      transition: none !important;
    }
  }
</style>
```

---

## 🎯 Best Practices Summary

1. **Less, but better** (Rams) - Remove unnecessary elements
2. **Obsessive details** (Jobs) - Perfect typography, max 20px animations
3. **8px Grid System** - ALL spacing divisible by 8px
4. **Mobile First** - Design for small screens first
5. **Performance** - GPU-accelerated animations, passive listeners
6. **Accessibility** - Semantic HTML, ARIA, reduced motion
7. **Conversion** - Clear CTAs, trust signals, scannability
8. **Code Quality** - TypeScript, comments, naming conventions

---

**Last Updated:** 2025-01-26
**Version:** 1.0.0
